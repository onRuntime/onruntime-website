---
title: インストール
description: '@onruntime/next-sitemapをインストールしてセットアップする'
---
## インストール

お好みのパッケージマネージャーを使ってパッケージをインストールしてください：

```bash
# npm
npm install @onruntime/next-sitemap

# yarn
yarn add @onruntime/next-sitemap

# pnpm
pnpm add @onruntime/next-sitemap
```

## 基本設定

### App Router (Next.js 13+)

`app`ディレクトリ内に`sitemap.ts`ファイルを作成します：

```tsx
// app/sitemap.ts
import { generateSitemap } from "@onruntime/next-sitemap/app";

export default async function sitemap() {
  return generateSitemap({
    baseUrl: "https://your-domain.com",
  });
}
```

### robots.txt

robots.txtを生成するために`robots.ts`ファイルを作成します：

```tsx
// app/robots.ts
import { generateRobots } from "@onruntime/next-sitemap/app";

export default function robots() {
  return generateRobots({
    baseUrl: "https://your-domain.com",
  });
}
```

## プロジェクト構造

セットアップ後、プロジェクトはこんな感じになります：

<Files>
  <Folder name="app" defaultOpen>
    <File name="sitemap.ts" />
    <File name="robots.ts" />
    <File name="page.tsx" />
    <Folder name="about">
      <File name="page.tsx" />
    </Folder>
    <Folder name="blog">
      <File name="page.tsx" />
      <Folder name="[slug]">
        <File name="page.tsx" />
      </Folder>
    </Folder>
  </Folder>
</Files>

## インストール確認

開発サーバーを起動して、以下にアクセスしてください：

- `http://localhost:3000/sitemap.xml` - あなたのサイトマップ
- `http://localhost:3000/robots.txt` - あなたのrobots.txt

サイトマップ用の生成されたXMLと、robots.txt用のテキストコンテンツが表示されるはずです。

<Callout type="info" title="開発 vs 本番">
  サイトマップには、ビルド時に発見されたすべてのルートが含まれます。開発中は、現在のルート構造が反映されます。
</Callout>

## 環境変数

本番環境では、ベースURLを設定します：

```env
# .env.production
NEXT_PUBLIC_SITE_URL=https://your-domain.com
```

それから、設定で使用します：

```tsx
// app/sitemap.ts
import { generateSitemap } from "@onruntime/next-sitemap/app";

export default async function sitemap() {
  return generateSitemap({
    baseUrl: process.env.NEXT_PUBLIC_SITE_URL || "https://your-domain.com",
  });
}
```

## 次のステップ

<Cards>
  <Card
    title="設定"
    description="サイトマップの生成をカスタマイズ"
    href="/docs/next-sitemap/configuration"
  />
  <Card
    title="APIリファレンス"
    description="利用可能なオプションを探る"
    href="/docs/next-sitemap/api"
  />
</Cards>
