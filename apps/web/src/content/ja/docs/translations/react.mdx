---
title: Reactの使い方
description: Reactアプリケーションでの@onruntime/translationsの使用
---
## 基本的な使い方

### useTranslation フック

`useTranslation` フックは、React コンポーネントで翻訳にアクセスする主な方法です：

```tsx
import { useTranslation } from "@onruntime/translations/react";

function MyComponent() {
  const { t, locale } = useTranslation("common");

  return (
    <div>
      <p>現在のロケール: {locale}</p>
      <h1>{t("title")}</h1>
    </div>
  );
}
```

### 変数の補間

変数を翻訳に渡します：

```json
// locales/en/common.json
{
  "greeting": "こんにちは、{name}!",
  "items_count": "アイテムは {count} 冊あります"
}
```

```tsx
function Greeting({ name, itemCount }) {
  const { t } = useTranslation("common");

  return (
    <>
      <p>{t("greeting", { name })}</p>
      <p>{t("items_count", { count: itemCount })}</p>
    </>
  );
}
```

## 複数のネームスペース

同じコンポーネントで複数のネームスペースを使えます：

```tsx
function Dashboard() {
  const { t: tCommon } = useTranslation("common");
  const { t: tDashboard } = useTranslation("dashboard");

  return (
    <div>
      <h1>{tDashboard("title")}</h1>
      <button>{tCommon("buttons.save")}</button>
    </div>
  );
}
```

## ロケールの変更

`setLocale` 関数を使って現在のロケールを変更します：

```tsx
import { useTranslation } from "@onruntime/translations/react";

function LanguageSwitcher() {
  const { locale, setLocale } = useTranslation("common");

  return (
    <select value={locale} onChange={(e) => setLocale(e.target.value)}>
      <option value="en">英語</option>
      <option value="fr">フランス語</option>
      <option value="de">ドイツ語</option>
    </select>
  );
}
```

## ネストされたキー

ドット表記を使ってネストされた翻訳キーにアクセスします：

```json
// locales/en/common.json
{
  "nav": {
    "home": "ホーム",
    "about": "アバウト",
    "contact": "お問い合わせ"
  }
}
```

```tsx
function Navigation() {
  const { t } = useTranslation("common");

  return (
    <nav>
      <a href="/">{t("nav.home")}</a>
      <a href="/about">{t("nav.about")}</a>
      <a href="/contact">{t("nav.contact")}</a>
    </nav>
  );
}
```

## ベストプラクティス

<Callout type="info" title="機能ごとに整理する">
  翻訳を機能やページごとに整理して、すべてを1つのファイルに入れないようにします。
</Callout>

### 推奨構造

<Files>
  <Folder name="locales" defaultOpen>
    <Folder name="en" defaultOpen>
      <File name="common.json" />
      <File name="auth.json" />
      <File name="dashboard.json" />
      <File name="settings.json" />
    </Folder>
  </Folder>
</Files>

### キーを一貫性のあるものに保つ

すべてのロケールで一貫した命名規則を使用します：

```json
// ✅ 良い - 一貫した構造
{
  "page_title": "ダッシュボード",
  "actions": {
    "save": "保存",
    "cancel": "キャンセル"
  }
}

// ❌ 避けるべき - 一貫性がない
{
  "pageTitle": "ダッシュボード",
  "save_button": "保存",
  "cancelBtn": "キャンセル"
}
```
